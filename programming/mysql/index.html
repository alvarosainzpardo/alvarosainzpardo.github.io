<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>MySQL - Documentación de Alvaro</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "MySQL";
    var mkdocs_page_input_path = "programming/mysql.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Documentación de Alvaro</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Trabajo</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../smart_cities/">Smart Cities</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../uma/">Universidad de Málaga</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../fiware/">FIWARE</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../calidad_aire/">Calidad del Aire</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../video/">Video</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../espacios_digitales/">Espacios Digitales</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Personal</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Música</a>
    <ul>
                <li class="toctree-l2"><a class="" href="../../tidal-albums.md">Albums Tidal</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Hi-Fi</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/general/">General</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/lossless/">Lossless</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/linux-audiofilo/">Linux Audiofilo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/darkvoice/">Darkvoice 336SE</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/r1-zenith/">IMR R1 Zenith</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/r2-aten/">IMR R2 Aten</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/tidal-albums/">Tidal Albums</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Programación</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../atom/">Atom</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../emmet/">Emmet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../git/">Git</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../html-css.md">HTML/CSS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../javascript/">JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../mysql.md">MySQL</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../postgresql.md">PostgreSQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../python/">Python</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Ruby</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../ruby/general/">General</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../ruby/rails/">Rails</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../ruby/rspec/">RSpec</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="" href="../../static-site-generators.md">Static Site Generators</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../vim/">Vim</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../vscode/">Visual Studio Code</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">APIs</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../api/tidal-api/">Tidal API</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Data Science</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/general/">General</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/cursos/">Cursos</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/python/">Python</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/forecasting/">Forecasting</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/nlp/">Natural Language Proccessing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/R/">R</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">AgileVentures</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../agileventures/charity_commission_api/">Charity Commission API</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../backgammon/">Backgammon</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cerraduras/">Cerraduras</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../detailing/">Detailing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../docker/">Docker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../general/">General</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../geojson/">GeoJSON</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../brew/">Homebrew</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../libreoffice/">LibreOffice</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../markdown/">Markdown</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../putty/">PuTTY</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../robocopy/">Robocopy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../ssh/">Ssh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tmux/">Tmux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../ubuntu/">Ubuntu</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../windows10/">Windows 10</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Documentación de Alvaro</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>MySQL</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="mysql">MySQL</h1>
<hr />
<h2 id="enlaces-documentacion">Enlaces, documentación</h2>
<ul>
<li><a href="http://staff.washington.edu/weller/mysql/">MySQL cheat sheet</a></li>
</ul>
<hr />
<h2 id="comandos">Comandos</h2>
<h3 id="mysqldump">mysqldump</h3>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html">mysqldump official documentation (5.7)</a></p>
<p>Para hacer un dump de una base de datos:</p>
<pre><code class="language-bash">$ mysqldump -u root -p database &gt; dump.sql
</code></pre>
<p>Para restaurar un dump:</p>
<pre><code class="language-bash">$ mysql -u root -p &lt; dump.sql
</code></pre>
<p>Para hacer un dump de varias bases de datos a la vez:</p>
<pre><code class="language-bash">$ mysqldump -u root -p --databases database1 database2 ... &gt; dump.sql
</code></pre>
<p>Para hacer un dump de todas las bases de datos (incluida la base de datos mysql):</p>
<pre><code class="language-bash">$ mysqldump -u root -p --all-databases --flush-privileges &gt; dump.sql
</code></pre>
<p>La opción <code>--flush-privileges</code> es necesaria siempre que se incluya la base de datos <code>mysql</code> en la lista de bases de datos de las que se va a hacer el dump.</p>
<p>El comando para hacer un dump completo de un servidor mysql:</p>
<pre><code class="language-bash">$ mysqldump -u root -p --all-databases --flush-privileges --routines &gt; dump.sql
</code></pre>
<p>Para hacer un dump de únicamente la estructura de las bases de datos (tablas, etc.) pero sin copiar los datos:</p>
<pre><code class="language-bash">$ mysqldump -u root -p --no-data ... &gt; dump.sql
</code></pre>
<p>Si se quiere añadir al dump una orden <code>DROP DATABASE ...</code> antes de las ordenes <code>CREATE DATABASE</code>:</p>
<pre><code class="language-bash">$ mysqldump -u root -p --add-drop-database ... &gt; dump.sql
</code></pre>
<p>La opción <code>--single-transaction</code> asegura un snapshot consistente entre todas las tablas porque todo el dump se realiza en una única transacción. Esta opción funciona únicamente con el storage engine InnoDB (el habitual). El comando para hacer un dump completo de un servidor asegurando consistencia sería:</p>
<pre><code class="language-bash">$ mysqldump -u root -p --all-databases --flush-privileges --routines --single-transaction&gt; dump.sql
</code></pre>
<p>Todos los comandos mysqldump que redirigen la salida estándar a un archivo podrían tener problemas con los conjuntos de caracteres en algunas bases de datos. Si se produce este problema, sustituir la redirección por la opción <code>-r</code>:</p>
<pre><code class="language-bash">$ mysqldump -u root -p database -r dump.sql
</code></pre>
<p>Para hacer el restore sin ningún problema de conjuntos de caracteres (si es necesario, sustituir 'utf8' por el conjunto de caracteres que corresponda):</p>
<pre><code class="language-bash">$ mysql -u root -p --default-character-set=utf8
mysql&gt; set names 'utf8';
mysql&gt; source backup.sql;
</code></pre>
<p>Para comprimir el archivo dump, enviar la salida de mysqldump a un compresor, por ejemplo:</p>
<pre><code class="language-bash"># Comprimir un dump
$ mysqldump -u [user] -p[password]--single-transaction --quick --all-databases | gzip &gt; alldb.sql.gz
# Restaurar un dump comprimido
$ gunzip &lt; alldb.sql.gz | mysql -u [user] -p[password]
</code></pre>
<p>Para restaurar el dump comprimido:</p>
<pre><code class="language-bash"></code></pre>
<hr />
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
