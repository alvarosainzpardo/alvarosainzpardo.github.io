<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>MySQL - Documentación de Alvaro</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "MySQL";
    var mkdocs_page_input_path = "programming/mysql.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Documentación de Alvaro</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Trabajo</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../smart_cities/">Smart Cities</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../uma/">Universidad de Málaga</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../fiware/">FIWARE</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../calidad_aire/">Calidad del Aire</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../video/">Video</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../espacios_digitales/">Espacios Digitales</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Personal</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="#">Hi-Fi</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/general/">General</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/lossless/">Lossless</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/linux-audiofilo/">Linux Audiofilo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/darkvoice/">Darkvoice 336SE</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/r1-zenith/">IMR R1 Zenith</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/r2-aten/">IMR R2 Aten</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/review-songs/">Review Songs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../hifi/tidal-albums/">Tidal Albums</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="#">Programación</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../atom/">Atom</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../emmet/">Emmet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../git/">Git</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../html-css/">HTML/CSS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../javascript/">JavaScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../mongodb/">MongoDB</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">MySQL</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#enlaces-documentacion">Enlaces, documentación</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#comandos">Comandos</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#mysqldump">mysqldump</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../postgresql/">PostgreSQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../python/">Python</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Ruby</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../ruby/general/">General</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../ruby/rails/">Rails</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../ruby/rspec/">RSpec</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../static-site-generators/">Static Site Generators</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../vim/">Vim</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../vscode/">Visual Studio Code</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">APIs</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../api/tidal-api/">Tidal API</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Data Science</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/general/">General</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/cursos/">Cursos</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/python/">Python</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/forecasting/">Forecasting</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/nlp/">Natural Language Proccessing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/R/">R</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../data_science/web_scraping/">Web Scraping</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">AgileVentures</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../agileventures/charity_commission_api/">Charity Commission API</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../backgammon/">Backgammon</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cerraduras/">Cerraduras</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../detailing/">Detailing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../docker/">Docker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../general/">General</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../geojson/">GeoJSON</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../gimp/">Gimp</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../brew/">Homebrew</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../libreoffice/">LibreOffice</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../markdown/">Markdown</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../putty/">PuTTY</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../robocopy/">Robocopy</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../ssh/">Ssh</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tmux/">Tmux</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../ubuntu/">Ubuntu</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../windows10/">Windows 10</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Documentación de Alvaro</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Programación &raquo;</li>
        
      
        
          <li>Personal &raquo;</li>
        
      
    
    <li>MySQL</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="mysql">MySQL</h1>
<hr />
<h2 id="enlaces-documentacion">Enlaces, documentación</h2>
<ul>
<li><a href="http://staff.washington.edu/weller/mysql/">MySQL cheat sheet</a></li>
</ul>
<hr />
<h2 id="comandos">Comandos</h2>
<h3 id="mysqldump">mysqldump</h3>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html">mysqldump official documentation (5.7)</a></p>
<p>Para hacer un dump de una base de datos:</p>
<pre><code class="language-bash">$ mysqldump -u root -p database &gt; dump.sql
</code></pre>
<p>Para hacer un dump de varias tablas una base de datos:</p>
<pre><code class="language-bash">$ mysqldump -u root -p database table1 table2 ... &gt; dump.sql
</code></pre>
<p>Para restaurar un dump:</p>
<pre><code class="language-bash">$ mysql -u root -p &lt; dump.sql
</code></pre>
<p>Opciones del comando <code>mysqldump</code>:</p>
<pre><code class="language-bash"># Para hacer un dump de varias bases de datos a la vez:
$ mysqldump -u root -p --databases database1 database2 ... &gt; dump.sql
# Para hacer un dump de todas las bases de datos (incluida la base de datos mysql):
$ mysqldump -u root -p --all-databases --flush-privileges &gt; dump.sql
# Comando para hacer un dump completo de un servidor mysql
$ mysqldump -u root -p --all-databases --flush-privileges --routines &gt; dump.sql
# Para volcar la estructura de las bases de datos pero sin copiar los datos se usa --no-data, -d
$ mysqldump -u root -p --no-data ... &gt; dump.sql
# Si se quiere añadir al dump una orden `DROP DATABASE ...` antes de las ordenes `CREATE DATABASE`:
$ mysqldump -u root -p --add-drop-database ... &gt; dump.sql
# Para volcar únicamente los datos se usa --no-create-info, -t
$ mysqldump -u root -p --no-create-info --skip-triggers --compact ... &gt; mydb_data.sql
</code></pre>
<p>La opción <code>--flush-privileges</code> es necesaria siempre que se incluya la base de datos <code>mysql</code> en la lista de bases de datos de las que se va a hacer el dump.</p>
<p>Cuando se quieren volcar únicamente los datos (generar únicamente INSERTS) es necesario añadir también la opción <code>--skip-triggers</code> para que no se incluyan en el volcado órdenes de creación de triggers, si los hubiese en la base de datos.</p>
<p>La opción <code>--compact</code> no genera comentarios en el archivo dump, generando un dump de menor tamaño, útil cuando se están volcando únicamente los datos.</p>
<p>La opción <code>--single-transaction</code> asegura un snapshot consistente entre todas las tablas porque todo el dump se realiza en una única transacción. Esta opción funciona únicamente con el storage engine InnoDB (el habitual). El comando para hacer un dump completo de un servidor asegurando consistencia sería:</p>
<pre><code class="language-bash">$ mysqldump -u root -p --all-databases --flush-privileges --routines --single-transaction &gt; dump.sql
</code></pre>
<p>Todos los comandos mysqldump que redirigen la salida estándar a un archivo podrían tener problemas con los conjuntos de caracteres en algunas bases de datos. Si se produce este problema, sustituir la redirección por la opción <code>-r</code>:</p>
<pre><code class="language-bash">$ mysqldump -u root -p database -r dump.sql
</code></pre>
<p>Para hacer el restore sin ningún problema de conjuntos de caracteres (si es necesario, sustituir 'utf8' por el conjunto de caracteres que corresponda):</p>
<pre><code class="language-bash">$ mysql -u root -p --default-character-set=utf8
mysql&gt; set names 'utf8';
mysql&gt; source backup.sql;
</code></pre>
<p>Para comprimir el archivo dump, enviar la salida de mysqldump a un compresor, por ejemplo:</p>
<pre><code class="language-bash"># Comprimir un dump
$ mysqldump -u [user] -p[password]--single-transaction --quick --all-databases | gzip &gt; alldb.sql.gz
# Restaurar un dump comprimido
$ gunzip &lt; alldb.sql.gz | mysql -u [user] -p[password]
</code></pre>
<hr />
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../postgresql/" class="btn btn-neutral float-right" title="PostgreSQL">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../mongodb/" class="btn btn-neutral" title="MongoDB"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../mongodb/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../postgresql/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
